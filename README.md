## ğŸ§  TruthLayer â€” On-Chain AI Fact Verification

**Built for GenLayer Nov 2025 Hackathon â€“ AI Governance Track**

TruthLayer is a lightweight smart contract that allows anyone to **submit a factual claim on-chain** (e.g. _â€œUniswap exceeded $1B daily volume last weekâ€_), and automatically receives a **trustless AI-verified verdict**, generated by the GenLayer validator network using the Equivalence Principle.

Every claim is stored on-chain along with a minified JSON result:

```json
{ "decision": "true", "confidence": 0.92, "evidence": ["https://..."] }
```

No backend, no oracle, no centralized fact checker â€” 100% on-chain AI reasoning.

---

## âœ… Core Features

| Feature                                  | Description                                |
| ---------------------------------------- | ------------------------------------------ |
| ğŸ“ `submit_claim()`                      | User submits any text claim                |
| ğŸ¤– On-chain AI fact-checking             | GenLayer validators fetch sources + reason |
| ğŸ“¡ Result stored permanently             | JSON verdict saved as contract state       |
| ğŸ” `get_claim()` and `get_result_json()` | Anyone can read back verified truth data   |
| ğŸ§± ~40 lines of code                     | Single contract, no external logic         |
| ğŸª¶ Zero frontend required                | Fully demo-able inside GenLayer Studio     |

---

## ğŸ“œ Contract Overview

| Function                   | Type  | Description                          |
| -------------------------- | ----- | ------------------------------------ |
| `submit_claim(string)`     | write | Stores claim + triggers AI consensus |
| `get_claim(uint256)`       | view  | Returns original submitted text      |
| `get_result_json(uint256)` | view  | Returns final JSON verdict           |
| `last_id()`                | view  | Returns most recent claim ID         |

Storage:

```python
next_id: u256
claims: TreeMap[u256, str]
results_json: TreeMap[u256, str]
```

---

## ğŸ›  How to Use (All in GenLayer Studio)

### 1ï¸âƒ£ Deploy Contract

Open Studio â†’ paste full contract â†’ Deploy.

### 2ï¸âƒ£ Submit claim

Go to **Write** tab â†’
`submit_claim("Uniswap exceeded $1B daily volume last week")`

â†’ It returns a claim ID, starting at `0`.

### 3ï¸âƒ£ View stored text

Go to **Read** tab â†’
`get_claim(0)` â†’ returns original string.

### 4ï¸âƒ£ View AI verdict

After 5â€“60 seconds (automatically finalized on-chain) â†’
`get_result_json(0)` â†’ returns JSON like:

```json
{
  "decision": "true",
  "confidence": 0.87,
  "evidence": ["https://...", "https://..."]
}
```

### 5ï¸âƒ£ Check latest ID

`last_id()` returns most recent stored index.

---

## ğŸ§  How The AI Works

TruthLayer uses:

```python
gl.eq_principle.prompt_non_comparative(
    lambda: claim,
    task="...",
    criteria="..."
)
```

The Equivalence Principle ensures multiple independent validators must agree on the _same_ output JSON.
This makes the result **trustless, tamper-proof, censorship-resistant, and cryptographically verifiable.**

---
